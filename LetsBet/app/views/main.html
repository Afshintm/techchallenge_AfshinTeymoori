<div class="row-fluid" ng-controller="mainCtrl">
	<h4>{{model.viewTitle}}</h4>
	<div class="col-lg-12" ng-show="model.raceList">
		<h5>List of All races</h5>
		<table class="table table-striped table-bordered table-hover table-condensed dataTable">
			<thead>
				<tr role="row">
					<th role="columnheader"> Name </th>
					<th role="columnheader"> Status </th>
					<th role="columnheader"> Total money placed </th>
				</tr>
			</thead>
			<tr ng-repeat="p1 in model.raceList">
                <td data-title="Name"><span >{{p1.name}}</span></td>
                <td data-title="Status"><span>{{p1.status}}</span></td>
                <td data-title="Stake">
                	<div><span>${{p1.raceTotalBet}}</span></div>
                	<div>
                		<table class="table">
                				<tr><th style="background-color:#aaa">Horses on bet</th></tr>
								<tr role="row">
									<td role="columnheader"> Name </td>
									<td role="columnheader"> Number of Bets </td>
									<td role="columnheader"> Oweing on Win </td>
								</tr>
								<tr ng-repeat="p2 in p1.horseRace">
					                <td data-title="Name"><span >{{p2.horseId}}</span></td>
					                <td data-title="Status"><span>{{p2.numberOfBets}}</span></td>
					                <td data-title="Stake"><span>{{p2.owingOnWin}}</span></td>
								</tr>
                		</table>
                	</div>
                </td>
			</tr>
		</table>
	</div>
</div>